#!/usr/bin/env python3
import matplotlib.pyplot as plt
import numpy as np

list1 = [0.502272727272728, 0.502272727272728, 0.45681818181818257, 0.3431818181818189, 0.3204545454545462, 0.32045454545454627, 0.843181818181819, 0.22954545454545527, -0.06590909090909015, 0.11590909090909167, -0.06590909090909024, 0.9113636363636372, 0.27500000000000074, 0.27500000000000074, 1.0250000000000006, 1.1159090909090916, 1.161363636363637, 1.2977272727272735, 0.5704545454545462, 1.0704545454545462, 1.0704545454545462, 0.9340909090909097, 1.0477272727272735, 0.18409090909090986, 0.9568181818181825, 0.6613636363636372, 0.27500000000000074, 1.1159090909090916, 0.38863636363636433, 0.7977272727272734, 0.5704545454545461, 0.5250000000000008, 0.4568181818181825, 0.7522727272727281, 0.47954545454545533, 0.47954545454545533, 0.6613636363636372, 0.22954545454545527, 0.4795454545454552, 0.07045454545454613, 0.7522727272727281, 0.3886363636363645, 0.2522727272727281, 0.3431818181818189, -1.4295454545454538, -0.7931818181818173, -1.9522727272727265, 0.3886363636363645, -0.043181818181817426, 0.4568181818181825, 0.047727272727273486, 1.2522727272727279, 1.3886363636363646, 1.752272727272728, 1.3659090909090916, 1.3886363636363643, 0.8431818181818188, 1.5250000000000008, 1.2977272727272735, 1.7295454545454554, 1.6386363636363646, 1.7977272727272735, 1.7977272727272735, 1.3659090909090918, 2.161363636363637, 1.9568181818181827, 2.2522727272727283, 2.2522727272727283, 1.6386363636363646, 1.0477272727272735, 2.3659090909090916, 2.093181818181819, 2.093181818181819, 1.8886363636363646, 1.7068181818181827, 1.502272727272728, 1.502272727272728, 1.0250000000000008, 1.3204545454545462, 0.6159090909090917, 0.8204545454545463, 1.093181818181819, 1.2068181818181827, 1.6159090909090918, 1.4568181818181822, 1.4568181818181827, 1.2750000000000008, 0.68409090909091, 1.593181818181819, 1.6159090909090918, 1.2750000000000008, 1.502272727272728, 1.252272727272728, 1.2522727272727279, 1.3659090909090916, 0.8659090909090916, 1.0250000000000008, 1.5477272727272735, 1.5477272727272735, 1.0250000000000008, 1.7750000000000006, 2.002272727272728, 1.7750000000000006, 2.0022727272727283, 1.1159090909090918, 1.6159090909090914, 1.3659090909090916, 1.1159090909090918, 1.9340909090909095, 1.6386363636363646, -3.338636363636363, -5.270454545454545, -2.4522727272727263, -4.361363636363635, -4.293181818181817, -4.611363636363635, -3.611363636363635, -5.952272727272727, -3.9977272727272717, -2.5204545454545446, -2.0431818181818175, -3.543181818181817, -4.179545454545454, -4.588636363636362, -6.202272727272727, -6.702272727272727, -7.838636363636363, -9.770454545454545, -8.975, -8.293181818181818, -9.861363636363636, -9.452272727272726, -9.06590909090909, -1.3613636363636352, -1.952272727272726, -2.9295454545454533, -0.11136363636363585, -0.11136363636363585, -0.13409090909090826, -0.8840909090909083, -2.7249999999999996, -3.5886363636363625, -3.2249999999999988, -4.088636363636362, -2.6795454545454542, -2.429545454545454, -2.429545454545454, -0.4749999999999988, 0.43409090909091025, 0.6386363636363648, 3.7750000000000004, 3.4568181818181825, 4.979545454545455, 6.479545454545455, -1.5886363636363618, -0.17954545454545145, -0.8840909090909073, 12.615909090909092, 11.729545454545457, 13.229545454545457, 21.047727272727276, 25.365909090909096, 25.57045454545454, 26.525, 24.979545454545452, 13.865909090909092, 21.95681818181818, 27.547727272727272, 27.36590909090909, 17.161363636363635, 21.275, 31.45681818181818, 32.002272727272725, 30.661363636363635, 32.59318181818182, 31.75227272727273, 31.75227272727273, 40.75227272727273, 43.34318181818182, 45.50227272727273, 45.50227272727273, 45.820454545454545, 45.275000000000006, 48.843181818181826, 50.025000000000006, 48.593181818181826, 49.38863636363637, 50.979545454545466, 47.093181818181826, 54.002272727272725, 55.13863636363636, 56.70681818181818, 57.34318181818182, 57.320454545454545, 55.684090909090905, 59.79772727272727, 59.79772727272727, 57.61590909090909, 61.72954545454545, 62.54772727272727]

list2 = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 7, 8, 8, 8, 10, 10, 12, 13, 13, 14, 16, 16, 18, 18, 18, 19, 20, 21, 21, 22, 22, 24, 24, 25, 25, 25, 26, 26, 26, 27, 28, 29, 29, 30, 30, 30, 30, 31, 32, 33, 34, 34, 34, 36, 37, 37, 38, 38, 40, 40, 40, 41, 43, 43, 43, 44, 45, 47, 47, 48, 50, 51, 53, 55, 56, 57, 57, 57, 57, 57, 57, 57, 58, 60, 62, 63, 63, 64, 66, 67, 68, 69, 70, 70, 71, 72, 72, 72, 73, 73]

list3 = []
list4 = []

list3.append(list1[149])
list3.append(list1[158])
list3.append(list1[170])
list3.append(list1[173])
list3.append(list1[177])
list3.append(list1[187])
list3.append(list1[198])

list4.append(list2[149])
list4.append(list2[158])
list4.append(list2[170])
list4.append(list2[173])
list4.append(list2[177])
list4.append(list2[187])
list4.append(list2[198])


#for i in range(len(list1)):
#	if list1[i]/10 > 0 and list1[i]/10 < 0.2:
#		print(i, list2[i])
x = np.array(list3)
y = np.array(list4)
f1 = np.polyfit(x, y, 3)
p1 = np.poly1d(f1)
print('p1 is:\n', p1)
ynew = p1(x)
print('ynew is:\n', ynew)

plt.figure()

plt.subplot(2, 1, 1)
plt.plot(x, y)
plt.xlabel('robot force')
plt.ylabel('q')
plt.title('original figure')

plt.subplot(2, 1, 2)
plt.plot(x, ynew)
plt.xlabel('robot force')
plt.ylabel('q')
plt.title('fitting figure')

plt.show()

#p1 is:
#            3           2
#0.0001926 x - 0.01934 x + 1.127 x + 31.53
#ynew is:
# [32.23844738 42.39601683 48.60460504 53.45180968 58.3703332  64.2350488
# 72.70373908]

